100 '  tank attack  (overgenomen uit MSX-Computing)
110 '
120 COLOR 15,1,1
130 CLEAR 200,61439!:DEFINT A-Z:OPEN "GRP:" AS #1:I=RND(-TIME):ON INTERVAL=150 GOSUB 1890
140 COLOR 15,1,1:SCREEN 2,2:GOSUB 1950:GOSUB 1660:INTERVAL OFF:BEEP:COLOR,4
150 SV=1:SC!=0:LI=5:EX!=5000
160 TA=0:GOSUB 1510
170 GOSUB 1270
180 HE=0:HR=0
190 FS=0:X=760:S1=0:PUT SPRITE 9,(X/21+10,10),15,10
200 FOR Q=1 TO 2:GOSUB 1090:NEXT
210 REM MOVE CANNON
220 D=STICK(0):E=STICK(1)
230 IF D=0 AND E=0 THEN 270
240 IF D=3 OR E=3 THEN 370
250 IF D=7 OR E=7 THEN 400
260 PUT SPRITE 9,(X/21+10,10),15,10
270 IF S1=1 THEN 320
280 IF STRIG(0)=0 AND STRIG(1)=0 AND STRIG(3)=0 THEN 470
290 IF SK>24 THEN 470
300 S1=1:ST=39:SY=125:SX=127:SR=-9
310 GOSUB 1230:SK=SK+1:LINE (250,0)-(250-SK*4,6),1,BF
320 SY=SY+SR:SR=SR+1:ST=ST+1
330 IF SR>-1 THEN SR=-1
340 IF ST=54 THEN S1=0:GOSUB 430:SX=256:SY=192
350 PUT SPRITE 1,(SX,SY),6,ST/3
360 GOTO 470
370 X=X+4:IF X>1600 THEN X=1600:GOTO 270
380 D=USR1(0):SX=SX-4:FX=FX-7
390 GOTO 260
400 X=X-4:IF X<0 THEN X=0:GOTO 270
410 D=USR(0):SX=SX+4:FX=FX+7
420 GOTO 260
430 REM CHECK BULLIT
440 FOR I=1 TO 2
450 IF X(I)-X+ST(I)<SX+4 AND SX+4<X(I)-X+15-ST(I) THEN 980
460 NEXT :RETURN
470 REM MOVE TANKS
480 FOR I=1 TO 2
490 IF D(I)=1 THEN IF INT(RND(1)*40)=1 THEN Q=I:GOSUB 1090 ELSE 600
500 IF HE=1 THEN 700
510 X(I)=X(I)-SV
520 IF X(I)<-67 THEN 1350
530 PUT SPRITE 6+I,(X(I)/21+7,13-ST(I)),15,17+(HE=1)-(I=2 AND HE=1)*2
540 IF X(I)-X<-15 OR X(I)-X>255 THEN T(I)=HE:PUT SPRITE 3+I,(256,192),0,20:PUT SPRITE 13,(256,192),0,20:GOTO 600
550 IF T(I)=0 THEN IF INT(RND(1)*20)=1 AND HE=0 THEN T(I)=1
560 IF INT(RND(1)*30)=1 AND HE=0 THEN T(I)=0
570 IF T(I)=1 AND INT(RND(1)*25)=1 THEN GOSUB 670
580 IF HE=1 THEN PUT SPRITE 4,(X(I)-X,69),1,8+(HR=-1):PUT SPRITE 13,(X(I)-X,85),1,11:GOTO 600
590 PUT SPRITE 3+I,(X(I)-X,70),1,ST(I)+ST(I)-1+T(I)
600 IF FS=0 THEN 650
610 FY=FY+FR:FR=FR+1:F1=F1-1
620 IF FX<0 OR FX>255 THEN FS=0:FX=256:FY=192
630 IF F1=65-(HE=1)*3 THEN GOSUB 770
640 PUT SPRITE 2,(FX,FY),1,F1/5
650 NEXT
660 GOTO 210
670 IF FS=1 THEN RETURN
680 GOSUB 1230:FS=1:FX=X(I)-X+4:F1=89+(HE=1)*3:FY=74:FR=-8-(HE=1)*4
690 RETURN
700 REM MOVE HELICOPTER
710 IF SK>24 THEN 770
720 IF X>X(1) THEN HR=1
730 IF X+255<X(1) THEN HR=-1
740 IF X(1)-X>0 AND X(1)-X<255 AND INT(RND(1)*20)=1 THEN HR=-HR
750 X(1)=X(1)+HR*(1+SV)
760 GOTO 530
770 REM YOU DIE
780 FS=0:IF FX>240 OR FX<15 THEN FX=100:FY=84
790 IF POINT(FX,FY+7)=10 AND POINT(FX+7,FY+7)=10 THEN FX=256:FY=192:RETURN
800 FX=256:FY=192:PUT SPRITE 2,(FX,FY),0,20:GOSUB 1230
810 LINE(40,40)-(215,48),12,BF:COLOR 1:PSET(69,41),12:PRINT #1,"U BENT GERAAKT"
820 FOR J=1 TO 50:COLOR ,,8:FOR Q=1 TO 40:NEXT :COLOR ,,1:FOR Q=1 TO 40:NEXT Q,J
830 LI=LI-1:GOSUB 1600:IF LI=0 THEN RETURN 870
840 GOSUB 1640
850 LINE(40,40)-(215,48),4,BF
860 RETURN
870 REM GAME OVER
880 GOSUB 1260
890 SOUND 7,56:PLAY "O5DEFDEFGEFDEFDGEFDD"
900 LINE (24,33)-(231,63),6,BF:LINE(26,35)-(229,61),1,B:COLOR 1:PSET(95,37),6:PRINT #1,"GAME OVER"
910 PSET(55,51),6:COLOR 15:PRINT #1,"NOG EEN SPEL (J/N)?"
920 IF SC!>HS! THEN HS!=SC!:GOSUB 1620
930 FOR I=1 TO 50:K$=INKEY$:NEXT
940 K$=INPUT$(1)
950 IF K$="n" OR K$="N" THEN RUN"SOFTWARE.000"
960 IF K$="J" OR K$="j" THEN BEEP:GOTO 150
970 GOTO 940
980 REM YOU HIT TANK
990 PUT SPRITE 13,(256,192),0,20
1000 PUT SPRITE 6+I,(X(I)-X-2,70),6,9:PUT SPRITE 3+I,(X(I)-X,70),11,9:PUT SPRITE 1,(X(I)-X+2,69),6,9
1010 GOSUB 1230
1020 SC!=SC!+50*ST(I):GOSUB 1560:TA=TA+1:LINE(255,16)-(250-TA*6,21),1,BF
1030 FOR J=1 TO 1500:NEXT
1040 D(I)=1:X(I)=3000
1050 PUT SPRITE 3+I,(256,192),0,20:PUT SPRITE 6+I,(256,192),0,20
1060 IF HE=1 THEN 1140
1070 IF TA=15 THEN HE=1:Q=1:GOSUB 1100
1080 RETURN
1090 IF HE=1 OR (TA=14 AND (D(1)=0 OR D(2)=0)) THEN RETURN 600
1100 T(Q)=0:ST(Q)=RND(Q)*3+1:D(Q)=0
1110 X(Q)=RND(1)*1100+500:IF X(Q)-X>-16 AND X(Q)-X<256 THEN 1110
1120 IF HE=1 THEN ST(1)=0:D(2)=1:X(2)=3000
1130 RETURN
1140 REM YOU WON
1150 INTERVAL ON:FOR Q=1 TO 2000:NEXT
1160 GOSUB 1260:J=0
1170 LINE(24,33)-(231,63),1,BF:LINE(26,35)-(229,61),11,B:COLOR 9:PSET(96,37),1:PRINT #1,"U WINT!":COLOR 13:PRINT #1,"       DRUK OP EEN TOETS":COLOR 2:PRINT #1,"    VOOR HET VOLGENDE NIVEAU"
1180 LINE(80,160)-(179,168),6,BF:COLOR 1:PSET(87,161),6:PRINT #1,"BONUS:";:COLOR 15:PRINT #1,SV*2000:SC!=SC!+SV*2000
1190 SV=2:GOSUB 1560
1200 FOR I=1 TO 50:K$=INKEY$:NEXT
1210 K$=INKEY$:IF K$="" THEN 1210
1220 INTERVAL OFF:BEEP:RETURN 160
1230 REM CRASH
1240 SOUND 0,0:SOUND 1,5:SOUND 2,0:SOUND 3,13:SOUND 4,255:SOUND 5,15:SOUND 6,30:SOUND 7,0:SOUND 8,16:SOUND 9,16:SOUND 10,16:SOUND 11,0:SOUND 12,5:SOUND 13,0:SOUND 12,56
1250 RETURN
1260 FOR J=0 TO 13:PUT SPRITE J,(256,192),0,20:NEXT:RETURN
1270 REM BACK GROUND
1280 LINE (0,79)-(255,79),14:LINE(0,80)-(255,180),10,BF
1290 PRESET(0,71):FOR I=0 TO 255 STEP 8:LINE -(I+4,68+RND(1)*10),14:LINE-(I+8,68+RND(1)*10),14:NEXT:PAINT(0,78),14
1300 GOSUB 1330
1310 DRAW "BM40,180C12M60,155M90,150M170,150M200,155M220,180L180BM122,149C1M125,126R10M138,149L16":PAINT(45,179),12:PAINT(125,148),1:CIRCLE(130,172),15,1,,,.4:PAINT(130,176),1:CIRCLE(130,180),31,1,,3.16,.7:PUT SPRITE 0,(123,71),1,0
1320 RETURN
1330 PRESET(0,106):FOR J=0 TO 255 STEP 24:LINE-(J+24,104+RND(1)*4),4:NEXT
1340 PRESET(0,116):FOR J=0 TO 255 STEP 24:LINE-(J+24,114+RND(1)*4),4:NEXT :PAINT(0,107),4:RETURN
1350 REM TANK REACH HEADQUARTER
1360 SOUND 7,56:PLAY "O4FDEFDGEFDGEFF"
1370 LINE(23,40)-(231,48),12,BF:COLOR 1:PSET(43,41),12:PRINT #1,"HOOFDKWARTIER BEREIKT!"
1380 FOR J=1 TO 9999:NEXT
1390 SCREEN 2:GOSUB 1510
1400 LINE(0,80)-(255,180),10,BF:LINE(78,79)-(255,79),14
1410 PRESET(79,79):FOR J=79 TO 255 STEP 8:LINE-(J+4,68+RND(1)*10),14:LINE-(J+8,68+RND(1)*10),14:NEXT:PAINT(100,78),14:GOSUB 1330
1420 LINE(32,82)-(55,72),15,BF:LINE(35,74)-(37,76),1,BF:LINE(52,74)-(50,76),1,BF:LINE(42,82)-(45,74),1,BF
1430 DRAW "C6BM30,72E5R16F5L26":PAINT (35,71),6
1440 FOR J=255 TO 130 STEP -1:PUT SPRITE 0,(J,70),1,ST(I)+ST(I)-1:FOR Q=1 TO 40:NEXT Q,J
1450 GOSUB 1230:FOR J=122 TO 55 STEP -1:PUT SPRITE 1,(J,71),1,17:FOR Q=1 TO 10:NEXT Q,J
1460 GOSUB 1230:PUT SPRITE 1,(28,69),6,9:PUT SPRITE 2,(36,71),6,9:PUT SPRITE 3,(41,68),6,9:FOR J=1 TO 3000:NEXT J
1470 LINE(8,40)-(247,56),12,BF:PSET(16,41),12:COLOR 1:PRINT #1,"UW HOOFDKWARTIER IS VENIETIGD":PRINT #1,"   EN U VERLIEST EEN LEVEN"
1480 SOUND 7,56:PLAY "O4FEDFEDGDFEGG"
1490 LI=LI-1:GOSUB 1600:FOR J=1 TO 9999:NEXT:IF LI=0 THEN 890
1500 GOSUB 1260:LINE(0,33)-(255,180),4,BF:GOSUB 1270:GOTO 190
1510 REM WRITE SCORE ON SCREEN
1520 SCREEN 2:COLOR 15:LINE(0,0)-(255,32),1,BF:LINE(0,181)-(255,191),1,BF
1530 PSET(31,0),1:PRINT #1,"RADAR:":LINE(7,10)-(105,30),15,B:DRAW "C15BM15,28U2D1R80U1D2"
1540 PSET(111,0),1:PRINT #1,"MUNI:":GOSUB 1640:PSET(111,15),1:PRINT #1,"TANKS:":GOSUB 1650
1550 PSET(7,183),1:PRINT #1,"SCORE:       LEVENS  TOP:":GOSUB 1560:GOSUB 1600:GOSUB 1620:RETURN
1560 A$="000000":B$=STR$(SC!):Q=LEN(B$)-1:MID$(A$,7-Q,Q)=RIGHT$(B$,Q)
1570 LINE(103-Q*8,183)-(103,191),1,BF:PSET(55,183),1:PRINT #1,A$
1580 IF SC!>EX! THEN EX!=EX!+5000:LI=LI+1:GOSUB 1600
1590 RETURN
1600 COLOR 15:LINE(159,183)-(168,191),1,BF:PSET(151,183),1:PRINT #1,LI
1610 RETURN
1620 A$="000000":B$=STR$(HS!):Q=LEN(B$)-1:MID$(A$,7-Q,Q)=RIGHT$(B$,Q)
1630 LINE(255-Q*8,183)-(255,191),1,BF:PSET(207,183),1:PRINT #1,A$:RETURN
1640 SK=0:FOR J=151 TO 147+(25-SK)*4 STEP 4:DRAW "BM=J;,6R2L1U5":NEXT:RETURN
1650 FOR J=161 TO 155+(15-TA)*6 STEP 6:DRAW "C7BM=J;,21R2E1H1L2G1BR2U3L2R3D1":NEXT:RETURN
1660 REM INSTRUCTIONS
1670 J=0:INTERVAL ON:GOSUB 1890
1680 LINE(0,0)-(255,36),4,BF
1690 DRAW "C1BM5,6E1R18F1D3G1L6G1D20G1L2H1U20H1L6H1U3BM30,6E1R18F1D25G1L2H1U10H1L10G1D10G1L2H1U25BM34,10E1R10F1D5G1L10H1U5"
1700 DRAW "BM55,6E1R2F1D4F12U16E1R2F1D25G1L2H1U4H12D16G1L2H1U25BM80,6E1R2F1D10E11F3G11F10G3H10D9G1L2H1U25"
1710 DRAW "C15BM110,6E1R18F1D25G1L2H1U10H1L10G1D10G1L2H1U25BM114,10E1R10F1D5G1L10H1U5BM135,6E1R18F1D3G1L6G1D20G1L2H1U20H1L6H1U3BM160,6E1R18F1D3G1L6G1D20G1L2H1U20H1L6H1U3"
1720 DRAW "BM185,6E1R18F1D25G1L2H1U10H1L10G1D10G1L2H1U25BM189,10E1R10F1D5G1L10H1U5BM210,6E1R18F1D7G1L2H1U3H1L10G1D17F1R10E1U2E1R2F1D6G1L18H1U25BM235,6E1R2F1D10E11F3G11F10G3H10D9G1L2H1U25"
1730 FOR I=7 TO 82 STEP 25:PAINT(I,6),1:NEXT:FOR I=112 TO 237 STEP 25:PAINT (I,6),15:NEXT
1740 DRAW "BM100,63R40U3L20D3R30U5R5U5R10U2L10U2L10D212D5R2U5BR4BD1R3BL7D6R4D5R10D35R80D20L200G10L10E30R110L60U13M7,73U10M100,75U12BM45,123R185BM238,139M217,157BM70,160R140BM37,140M64,158BM120,111U7R2F1D3R5U4R5F4G4L5U4L5D3G1L2"
1750 CIRCLE(45,133),10:CIRCLE(45,133),3:CIRCLE(230,133),10:CIRCLE(230,133),2:FOR I=70TO 210 STEP 20:CIRCLE (I,153),7:CIRCLE (I,153),2:NEXT:FOR I=80 TO 210 STEP 30:CIRCLE(I,127),3:PSET(I,127):NEXT
1760 COLOR 8:PRESET(71,183):PRINT #1,"INSTRUKTIES (J/N)?"
1770 FOR I=1 TO 50:K$=INKEY$:NEXT
1780 K$=INKEY$:IF K$="" THEN 1780
1790 IF K$="J" OR K$="j" THEN 1820
1800 IF K$="N" OR K$="n" THEN RETURN
1810 GOTO 1780
1820 INTERVAL OFF:BEEP:CLS:RESTORE 2190
1830 DRAW "BM55,0R144G5L134H5D30R144U30G5D20F5H5L134G5E5U20":COLOR 3:PRESET(83,12):PRINT #1,"TANK ATTACK":COLOR 15:PUT SPRITE 0,(20,8),5,8:PUT SPRITE 1,(219,8),5,7
1840 FOR I=35 TO 172 STEP 9:READ A$
1850 PRESET(7,I):PRINT #1,A$:NEXT
1860 COLOR 7:PRESET(69,183):PRINT #1,"Druk op een toets"
1870 FOR I=0 TO 40:K$=INKEY$:NEXT
1880 K$=INPUT$(1):RETURN
1890 REM TUNE
1900 J=J+1:IF J>4 THEN J=4:RETURN
1910 A$="CC.A16A.A16A4ACC.A16A.A16B-R8GG.F16E.F16G.A16B-.O5D16D.C16CO4BO5C.O4B-16A.g16A4F4F.F16F.E16D4B-4B-4R8O5DD.C16CCC.O4B-16B-EGFFFFR8"
1920 SOUND 7,56:B$=MID$(A$,(J-1)*32+1,32)
1930 PLAY "M5000S1L8XB$;"
1940 RETURN
1950 REM SPRITES & MACHINE CODE
1960 RESTORE 2010:FOR SC!=61440! TO 61569!:READ J:POKE SC!,J:NEXT :DEFUSR=61442!:DEFUSR1=61493!
1970 FOR I=14336 TO 14714
1980 READ A$:VPOKE I,VAL("&H"+A$):NEXT
1990 FOR I=14752 TO 14880 STEP 32:FOR J=0 TO 7:READ A$:VPOKE I+J,VAL("&H"+A$):NEXTJ,I
2000 RETURN
2010 DATA 9,7,38,240,46,0,70,35,126,128,71,126,46,223,38,23,17,32,0,25,16,253,87,6,31,14,153,205,101,240,95,43,205,101,240,35,205,114,240,43
2020 DATA 16,245,123,205,114,240,43,21,175,186,32,227,201
2030 DATA 38,240,46,0,70,35,126,46,224,38,23,17,32,0,25,16,253,87,6,31,14,153,205,101,240,95,35,205,101,240,43,205,114,240,35
2040 DATA 16,245,123,205,114,240,35,21,175,186,32,227,201,243,237,105,237,97,13,0,0,237,120,12,251,201
2050 DATA 243,237,105,8,124,246,64,237,121,8,13,237,121,12,251,201
2060 DATA 01,01,01,01,01,01,0,FC,FC,0,01,01,01,01,01,01,80,80,80,80,80,80,0,3F,3F,0,80,80,80,80,80,80
2070 DATA 0,0,0,07,FF,FF,07,7F,FF,FF,80,7F,E0,ED,4D,3F,0,0,0,E0,E0,E0,E0,FE,FF,FF,01,FE,07,B7,B2,FC
2080 DATA 01,01,01,07,06,06,07,7F,FF,FF,80,7F,E0,ED,4D,3F,80,80,80,E0,60,60,E0,FE,FF,FF,01,FE,07,B7,B2,FC
2090 DATA 0,0,0,0,03,3F,03,1F,3F,20,1F,30,15,0F,0,0,0,0,0,0,E0,E0,E0,FC,FE,02,FC,06,54,F8,0,0
2100 DATA 0,0,0,0,03,03,03,1F,3F,20,1F,30,15,0F,0,0,0,0,80,80,60,60,E0,FC,FE,02,FC,06,54,F8,0,0
2110 DATA 0,0,0,0,0,07,01,07,0F,07,0D,07,0,0,0,0,0,0,0,0,0,C0,C0,F0,F8,F0,58,F0,0,0,0,0
2120 DATA 0,0,0,0,0,01,01,07,0F,07,0D,07,0,0,0,0,0,0,0,0,80,40,C0,F0,F8,F0,58,F0,0,0,0,0
2130 DATA 0,7F,02,07,3F,47,C7,FF,FF,7F,3F,12,92,7F,0,0,0,F0,0,81,C3,FF,E0,C0,C0,80,0,0,0,80,0,0
2140 DATA 0,0F,0,81,C3,FF,07,03,03,01,0,0,0,01,0,0,0,FE,40,E0,FC,E2,E3,FF,FF,FE,FC,48,49,FE,0,0
2150 DATA 0,02,02,40,24,07,4F,1D,2F,0F,7F,08,04,02,0,0,0,20,02,84,88,F0,F4,F0,F0,DC,F2,28,24,22,0,0
2160 DATA 80,80,80,80,80,80,80,80,80,80,80,80,81,81,87,87,02,02,02,02,02,02,02,02,02,02,02,02,02,02,C2,C2
2170 DATA 0,0,0,0,0,07,3F,FF,FF,3F,07,0,0,0,0,0,0,0,0,0,0,E0,FC,FF,FF,FC,E0
2180 DATA 18,3C,7E,FF,FF,7E,3C,18,0,18,3C,7E,7E,3C,18,0,0,0,18,3C,3C,18,0,0,0,0,0,18,18,0,0,0,0,0,0,0,08,0,0,0
2190 DATA "In dit spel bestuurt U een"
2200 DATA "kanon waarmee U moet verhinde-"
2210 DATA "ren dat de vijand uw hoofd-"
2220 DATA "kwartier vernietigt."
2230 DATA "U kunt het kanon naar links,"
2240 DATA "of naar rechts bewegen met de"
2250 DATA "joystick of cursor toetsen.
2260 DATA "Om te vuren kunt U gebruik"
2270 DATA "maken van de vuurknop of de"
2280 DATA "spatiebalk. U moet 15 tanks en"
2290 DATA "1 helicopter vernietigen voor-"
2300 DATA "dat U aan een nieuw niveau "
2310 DATA "begint. Op de radar linksboven"
2320 DATA "kunt U zien waar de vijand zich"
2330 DATA "bevindt. U krijgt een extra"
2340 DATA "leven voor iedere 5000 punten."
